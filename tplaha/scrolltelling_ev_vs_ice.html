<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Charging Ahead or Burning Out — EV vs ICE Scrollytelling</title>

  <!-- GSAP -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

  <style>
    /* ==========================================================
       TEXT SMOOTHING & GLOBAL STYLE
    ========================================================== */
    * {
      -webkit-font-smoothing: antialiased !important;
      -moz-osx-font-smoothing: grayscale !important;
      text-rendering: optimizeLegibility !important;
    }

    body {
      background:#050008;
      color:#f8f6ff;
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
      overflow-x:hidden;
    }

    /* ==========================================================
       BACKGROUND + STATIC HORIZON
    ========================================================== */
    #bg-gradient{
      position:fixed;
      inset:0;
      background:radial-gradient(circle at 50% -10%, #3e1e66, #140016 55%, #050008 100%);
      z-index:-3;
    }

    #horizon{
      position:fixed;
      top:45%;
      left:0; right:0;
      height:2px;
      background:rgba(255,255,255,0.04);
      filter:blur(5px);
      z-index:-2;
      background-attachment:fixed !important;
      animation:none !important;
    }

    /* ==========================================================
       ROAD — FIXED 32vw WIDTH
    ========================================================== */
    #road-strip{
      position:fixed;
      top:0;
      left:50%;
      transform:translateX(-50%);
      width:32vw;
      height:100vh;
      opacity:0;
      transition:opacity 0.6s ease;
      pointer-events:none;
      z-index:-1;
    }

    /* Moving road texture (now moves UP, not down) */
    #road{
      width:100%;
      height:100%;
      border-left:5px solid white;
      border-right:5px solid white;

      background:
        repeating-linear-gradient(
          to bottom,
          #000 0px,
          #000 25px,
          #111 25px,
          #111 50px
        ),
        repeating-linear-gradient(
          to right,
          rgba(255,255,255,0.05) 0 1px,
          rgba(0,0,0,0.9) 1px 10px
        );

      background-size:100% 50px, auto;
      animation: roadMove 0.2s linear infinite;
    }

    @keyframes roadMove {
      from { background-position-y: 0, 0; }
      to   { background-position-y: -50px, 0; } /* move UP */
    }

    /* ==========================================================
       MOVING DASHED CENTER LINE (also moves UP)
    ========================================================== */
    #center-dash{
      position:absolute;
      top:0; left:50%;
      transform:translateX(-50%);
      width:10px; height:100%;

      background-size:100% 48px;
      background-image:repeating-linear-gradient(
        to bottom,
        white 0px,
        white 24px,
        transparent 24px,
        transparent 48px
      );

      animation: dashMove 0.2s linear infinite;
    }

    @keyframes dashMove {
      from { background-position-y: 0; }
      to   { background-position-y: -48px; } /* move UP */
    }

    /* ==========================================================
       CARS + SHADOWS + DUST
    ========================================================== */
    .car{
      position:absolute;
      width:120px;
      bottom:4vh;
      transform:translateX(-50%);
      z-index:5;
      transition:transform 0.2s ease-out;
    }

    #evcar{ left:30%; }
    #icecar{ left:70%; }

    .car-shadow{
      position:absolute;
      width:140px;
      height:35px;
      border-radius:50%;
      background:rgba(0,0,0,0.9);
      filter:blur(14px);
      bottom:2vh;
      z-index:1;
    }

    #ev-shadow{ left:30%; transform:translateX(-50%); }
    #ice-shadow{ left:70%; transform:translateX(-50%); }

    /* Dust trails */
    .dust {
      position:absolute;
      width:80px;
      height:80px;
      border-radius:50%;
      background:radial-gradient(circle, rgba(255,255,255,0.18), rgba(0,0,0,0));
      filter:blur(20px);
      opacity:0;
      pointer-events:none;
      z-index:0;
    }

    #evDust { left:30%; bottom:1vh; transform:translateX(-50%); }
    #iceDust{ left:70%; bottom:1vh; transform:translateX(-50%); }

    /* ==========================================================
       STORY PANELS
    ========================================================== */
    section.panel{
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:12vh 8vw;
    }

    .story-panel{
      display:grid;
      grid-template-columns:1fr 32vw 1fr;
      column-gap:3vw;
      padding-top:8vh;
      padding-bottom:8vh;
    }

    .ev-text,
    .ice-text{
      max-width:540px;
      padding:2vw;
      display:flex;
      flex-direction:column;
      gap:1.2rem;
    }

    .ev-text{ text-align:left; margin-left:auto; }
    .ice-text{ text-align:right; margin-right:auto; }

    .center-text{
      grid-column:1 / 4;
      text-align:center;
      max-width:820px;
      margin:0 auto;
    }

    /* TYPOGRAPHY */
    h1{
      font-size:2.8rem;
      line-height:1.15;
      margin-bottom:1rem;
    }

    h3{
      font-size:1.5rem;
      margin-top:1.4rem;
    }

    p{
      max-width:650px;
      line-height:1.72;
      font-size:1.1rem;
    }

    ul{
      padding-left:1.2rem;
    }

    li{
      margin-bottom:0.6rem;
      line-height:1.6;
    }

    #final .panel-inner{
      max-width:850px;
      text-align:center;
    }

    /* MOBILE */
    @media(max-width:950px){
      .story-panel{ grid-template-columns:1fr; }
      .ev-text,.ice-text{ text-align:left; margin:0; }
      #road-strip{ display:none; }
    }
  </style>
</head>

<body>

<div id="bg-gradient"></div>
<div id="horizon"></div>

<!-- ROAD + CARS + DUST -->
<div id="road-strip">
  <div id="road">
    <div id="center-dash"></div>

    <div id="ev-shadow" class="car-shadow"></div>
    <div id="ice-shadow" class="car-shadow"></div>

    <div id="evDust" class="dust"></div>
    <div id="iceDust" class="dust"></div>

    <img id="evcar" class="car" src="assets/car_ev_green.png">
    <img id="icecar" class="car" src="assets/car_ice_red.png">
  </div>
</div>

<main>

  <!-- INTRO -->
  <section id="intro" class="panel">
    <div class="panel-inner">
      <h1>Charging Ahead or Burning Out?</h1>
      <p>
        As nations race toward decarbonization, the question is no longer whether electric vehicles (EVs) will replace
        internal combustion engines (ICEs), but how society manages the complex environmental, social, and infrastructural
        trade-offs that accompany this transition.
      </p>
    </div>
  </section>

  <div id="road-zone">

    <!-- SPLIT -->
    <section id="split" class="panel">
      <div class="panel-inner">
        <h1>The Road Splits</h1>
        <p>
          EVs promise cleaner streets and lower carbon footprints, while ICEs remain deeply embedded in global supply chains.
          To understand the transition honestly, we explore both lanes.
        </p>
      </div>
    </section>

    <!-- EV SECTION -->
    <section id="ev-section" class="panel">
      <div class="panel-inner story-panel">
        <div class="ev-text">
          <h1>Where EVs Shine</h1>
          <p>
            Electric vehicles represent one of the most powerful tools for decarbonizing road transport. Unlike combustion
            engines that convert only 20–30% of fuel energy into motion, electric motors routinely achieve 85–92% efficiency.
          </p>
          <p>
            EV adoption immediately reduces tailpipe emissions — a major source of urban air pollution linked to asthma,
            cardiovascular disease, and premature mortality.
          </p>
          <p>
            As electricity grids decarbonize, EVs become cleaner every year they remain on the road. No combustion engine can
            “upgrade” its emissions profile in this way.
          </p>

          <h3>Key Environmental Advantages</h3>
          <ul>
            <li>Zero on-road emissions</li>
            <li>3–4× higher efficiency</li>
            <li>Cleaner with every grid upgrade</li>
            <li>Reduced heat and noise footprint</li>
          </ul>
        </div>

        <div></div>
        <div class="ice-text"></div>
      </div>
    </section>

    <!-- CENTER -->
    <section id="center-section" class="panel">
      <div class="panel-inner story-panel">
        <div class="center-text">
          <h1>Re-Centering the Road</h1>
          <p>
            EV benefits depend on the systems around them: electricity generation, mineral supply chains, charging
            infrastructure, and recycling capacity. Without parallel investments in these areas, electrification can end up
            shifting environmental burdens instead of eliminating them.
          </p>
        </div>
      </div>
    </section>

    <!-- ICE SECTION -->
    <section id="ice-section" class="panel">
      <div class="panel-inner story-panel">
        <div class="ev-text"></div>
        <div></div>
        <div class="ice-text">
          <h1>Where the EV Story Gets Harder</h1>
          <p>
            Battery production requires extraction and refining of lithium, nickel, cobalt, and graphite — all with ecological
            and social risks if poorly regulated. Mining can strain water resources, disturb habitats, and raise human-rights
            concerns.
          </p>
          <p>
            Manufacturing emissions can also be substantial in coal-heavy regions, reducing the climate advantage of EVs.
            Charging behavior and grid readiness matter too: unmanaged evening charging can strain electricity systems.
          </p>
          <p>
            EV sustainability depends on responsible mining, clean electricity, recycling infrastructure, and policy alignment.
          </p>
        </div>
      </div>
    </section>

  </div>

  <!-- FINAL -->
  <section id="final" class="panel">
    <div class="panel-inner">
      <h1>Final Reflections</h1>
      <p>
        EVs are essential for decarbonization — but their success relies on clean grids, ethical supply chains,
        resilient infrastructure, and circular material flows.
      </p>
      <p>
        The key question becomes:  
        <strong>How do we build a mobility system where EVs reach their full potential?</strong>
      </p>
    </div>
  </section>

</main>

<script>
  gsap.registerPlugin(ScrollTrigger);

  /* ==========================================================
     CONSTANT SMALL MOTION (alive feeling)
  ========================================================== */
  gsap.to(["#evcar", "#icecar"], {
    y: "-=6",
    duration: 1.5,
    repeat: -1,
    yoyo: true,
    ease: "sine.inOut"
  });

  gsap.to(["#evDust", "#iceDust"], {
    scale: 1.6,
    duration: 0.7,
    repeat: -1,
    yoyo: true,
    ease: "sine.inOut"
  });

  /* ==========================================================
     RESET FUNCTION
  ========================================================== */
  function resetCars() {
    gsap.set("#evcar", { scale:1, y:0, opacity:1, zIndex:5 });
    gsap.set("#icecar",{ scale:1, y:0, opacity:1, zIndex:5 });
    gsap.set("#evDust",{ opacity:0.2 });
    gsap.set("#iceDust",{ opacity:0.2 });
  }

  /* ==========================================================
     ROAD VISIBILITY
  ========================================================== */
  ScrollTrigger.create({
    trigger:"#road-zone",
    start:"top 80%",
    end:"bottom 20%",
    onEnter:()=>document.getElementById("road-strip").style.opacity=1,
    onLeave:()=>document.getElementById("road-strip").style.opacity=0,
    onEnterBack:()=>document.getElementById("road-strip").style.opacity=1,
    onLeaveBack:()=>document.getElementById("road-strip").style.opacity=0
  });

  /* ==========================================================
     EV SECTION — EV OVERTAKES (FORWARD)
  ========================================================== */
  ScrollTrigger.create({
    trigger:"#ev-section",
    start:"top center",
    end:"bottom center",
    scrub:true,
    onEnter: resetCars,
    onEnterBack: resetCars,
    onUpdate:()=>{

      // EV leads (up, bigger)
      gsap.to("#evcar", {
        scale: 1.22,
        y: -80,
        opacity: 1,
        zIndex: 20,
        overwrite:"auto"
      });
      gsap.to("#evDust", { opacity: 0.45 });

      // ICE behind (down, smaller)
      gsap.to("#icecar", {
        scale: 0.82,
        y: 60,
        opacity: 0.18,
        zIndex: 1,
        overwrite:"auto"
      });
      gsap.to("#iceDust", { opacity: 0 });
    }
  });

  /* ==========================================================
     CENTER RESET
  ========================================================== */
  ScrollTrigger.create({
    trigger:"#center-section",
    start:"top center",
    end:"bottom center",
    scrub:true,
    onEnter: resetCars,
    onEnterBack: resetCars
  });

  /* ==========================================================
     ICE SECTION — ICE OVERTAKES (FORWARD)
  ========================================================== */
  ScrollTrigger.create({
    trigger:"#ice-section",
    start:"top center",
    end:"bottom center",
    scrub:true,
    onEnter: resetCars,
    onEnterBack: resetCars,
    onUpdate:()=>{

      // ICE leads (up, bigger)
      gsap.to("#icecar", {
        scale: 1.22,
        y: -80,
        opacity: 1,
        zIndex: 20,
        overwrite:"auto"
      });
      gsap.to("#iceDust", { opacity: 0.45 });

      // EV behind (down, smaller)
      gsap.to("#evcar", {
        scale: 0.82,
        y: 60,
        opacity: 0.18,
        zIndex: 1,
        overwrite:"auto"
      });
      gsap.to("#evDust", { opacity: 0 });
    }
  });
</script>

</body>
</html>
